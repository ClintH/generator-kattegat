<!DOCTYPE html>
<html>
<head>
	<title>Realtime demo</title>
	<!-- Use the demos stylesheet -->
	<link rel='stylesheet' href='style.css'>

	<!-- Add in jQuery -->
	<script src="jquery.min.js"></script>
	
	<!-- Add in demo JS (demos/realtime.js) -->
	<script src="realtime.js"></script>

	<!-- Add in Socket.io: this is needed for any realtime stuff -->
	<script src="/socket.io/socket.io.js"></script>
</head>

<body>
	<h1>Realtime demo</h1>
	<p>
		Demonstrates how to work with realtime data. View the source to see what's going on behind the scenes.</p>
	<p>
		To fully grasp this demo, open it up in a second window to emulate two users. In this demo a messaging scenario is used, but data sent between clients can be any kind of simple data - eg sensor data.</p>
	<p>
		Kattegat uses <a href="http://socket.io/#how-to-use">Socket.io</a> for realtime data.</p>
	
	<div class="note">Note: Use your browser's console to see the results of your actions</div>
	
	<hr>
	<h2>Broadcasting</h2>
	<p>
		Broadcasting data sends it to all other clients connected to your server. If you want to be more specific about who receives data, see the Rooms section.</p>
	<form>
		<label>From
			<input name="name" placeholder="Name">
		</label>
		<label>Message
			<input name="msg" placeholder="Message">
		</label>
		<button id="broadcastButton">Send</button>
	</form>

	<hr>
	<h2>Rooms</h2>
	<p>
		'Rooms' can be joined or left. You're able to send data to a room, and when you've joined the room, you'll get all data sent to it as well. You can also find out who is in the room and receive events when users come and go.</p>
	<form>
		<label>Room name
			<input name="room" placeholder="Room name">
		</label>
		<button id="roomJoinButton">Join</button>
		<button id="roomLeaveButton">Leave</button>
		<button id="roomListButton">List</button>
		<label>Message
			<input name="msg" placeholder="Message">
		</label>
		<button id="roomMessageButton">Send to room</button>
	</form>
	<p>
		You can also get a list all rooms
		<button id="listRoomsButton">List</button>
		</p>
	<hr>
	<h2>Associating data</h2>
	<p>
		You can get or set key-value pairs that stays associated with the client's connection. When they disconnect, the data is lost. Also, the data is sent to other connected clients when they do a room 'list', and when a client joins/leaves a room.</p>
	<p>
		For data that changes frequently you should use the techniques in the broadcast and room-sending demos above.</p>
	<p>
		To play with this, have two demo windows open, and join them both to the same room. Set some data (eg key: colour, value: blue) on one window, and then do a room list on the other window.</p>
	<form>
		<label>Key
			<input name="name" placeholder="Key">
		</label>
		<label>Value
			<input name="value" placeholder="Value of data">
		</label>
		<button id="dataPutButton">Set</button>
		<button id="dataGetButton">Get</button>
	</form>
</body>
</html>
